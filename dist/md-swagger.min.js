(function(){!function(){"use strict";angular.module("md-swagger",[]).controller("mdSwaggerCtrl",function(e,i){i.baseJsonUri="",e.get("docs/sample.md").success(function(e){i.markdown=e})}).directive("mdSwagger",function(){return{restrict:"E",require:"?ngModel",scope:{baseJsonUri:"="},link:function(e,i,a,n){function r(e){var i=encodeURIComponent($("#"+e)[0].value);i&&""!=i.trim()&&(window.swaggerUi?window.swaggerUi.api.clientAuthorizations.add("api_key",new SwaggerClient.ApiKeyAuthorization("Authorization",i,"header")):window.swaggerUrlUi&&window.swaggerUrlUi.api.clientAuthorizations.add("api_key",new SwaggerClient.ApiKeyAuthorization("Authorization",i,"header")))}function o(){for(var e=$(i[0]).find(".lang-swagger-url"),a=0;a<e.length;a++){var n=e[a],o="swagger-url-container-"+a+1,t="input_apiKey"+a+1,l="<div class='swagger-section'><div class='input'><label>API Token: </label><input class='form-control' style='width:40%' placeholder='api_key' id='"+t+"' name='apiKey' type='text'/></div><div style='margin-left:0' class='swagger-ui-wrap' id='"+o+"'></div></div>";$(n.parentNode).replaceWith(l);var g,d=n.innerText.replace(/(?:\r\n|\r|\n)/g,"");g="http:"===d.substring(0,5)?d:window.location.origin+s+d,window.swaggerUrlUi=new SwaggerUi({url:g,dom_id:o,onComplete:function(e,i){r(t),$("#"+t).change(function(){r(t)})},docExpansion:"none",apisSorter:"alpha"}),window.swaggerUrlUi.load()}}function t(){for(var e=$(i[0]).find(".lang-swagger-json"),a=0;a<e.length;a++){var n=e[a],o=JSON.parse(n.innerText),t="swagger-json-container"+a+1,l="input_json_apiKey"+a+1,s="<div class='swagger-section'><div class='input'><label>API Token: </label><input class='form-control' style='width:40%' placeholder='api_key' id='"+l+"' name='apiKey' type='text'/></div><div style='margin-left:0' class='swagger-ui-wrap' id='"+t+"'></div></div>";$(n.parentNode).replaceWith(s),window.swaggerUi=new SwaggerUi({url:"localhost",spec:o,dom_id:t,onComplete:function(e,i){r(l),$("#"+l).change(function(){r(l)})},docExpansion:"none",apisSorter:"alpha"}),window.swaggerUi.load()}}function l(){for(var e=$(i[0]).find(".lang-swagger-yaml"),a=0;a<e.length;a++){var n=e[a],o=n.innerText,t=YAML.parse(o),l="swagger-yaml-container-"+a+1,s="input_yaml_apiKey"+a+1,g="<div class='swagger-section'><div class='input'><label>API Token: </label><input class='form-control' style='width:40%' placeholder='api_key' id='"+s+"' name='apiKey' type='text'/></div><div style='margin-left:0' class='swagger-ui-wrap' id='"+l+"'></div></div>";$(n.parentNode).replaceWith(g),window.swaggerUi=new SwaggerUi({url:"localhost",spec:t,dom_id:l,onComplete:function(e,i){r(s),$("#"+s).change(function(){r(s)})},docExpansion:"none",apisSorter:"alpha"}),window.swaggerUi.load()}}var s=e.baseJsonUri;window.SwaggerTranslator&&window.SwaggerTranslator.translate(),n.$render=function(){var a=n.$viewValue;if(a&&a.length>0){var r=marked(n.$viewValue||""),s=$('<div class="md-swagger"></div>');s.html(r),i.append(s),setTimeout(function(){o(),t(),l(),e.$apply()},10)}}}}})}()}).call(this);