(function(){!function(){"use strict";angular.module("md-swagger",[]).controller("mdSwaggerCtrl",function(e,i){console.log("initiaing demo controller"),i.baseJsonUri="",e.get("docs/sample.md").success(function(e){i.markdown=e})}).directive("mdSwagger",function(){return{restrict:"E",require:"?ngModel",scope:{baseJsonUri:"="},link:function(e,i,n,a){function r(e){var i=encodeURIComponent($("#"+e)[0].value);i&&""!=i.trim()&&(window.swaggerUi?(console.log(i),window.swaggerUi.api.clientAuthorizations.add("api_key",new SwaggerClient.ApiKeyAuthorization("Authorization",i,"header")),console.log(window.swaggerUi.api.clientAuthorizations)):window.swaggerUrlUi&&window.swaggerUrlUi.api.clientAuthorizations.add("api_key",new SwaggerClient.ApiKeyAuthorization("Authorization",i,"header")))}function o(){for(var e=$(i[0]).find(".lang-swagger-url"),n=0;n<e.length;n++){var a=e[n],o="swagger-url-container-"+n+1,t="input_apiKey"+n+1,s="<div class='swagger-section'><div class='input'><input placeholder='api_key' id='"+t+"' name='apiKey' type='text'/></div><div style='margin-left:0' class='swagger-ui-wrap' id='"+o+"'></div></div>";$(a.parentNode).replaceWith(s);var g,d=a.innerText.replace(/(?:\r\n|\r|\n)/g,"");g="http:"===d.substring(0,5)?d:window.location.origin+l+d,window.swaggerUrlUi=new SwaggerUi({url:g,dom_id:o,onComplete:function(e,i){r(t),$("#"+t).change(function(){r(t)})},docExpansion:"none",apisSorter:"alpha",showRequestHeaders:!0}),window.swaggerUrlUi.load()}}function t(){for(var e=$(i[0]).find(".lang-swagger-json"),n=0;n<e.length;n++){var a=e[n],o=JSON.parse(a.innerText),t="swagger-json-container"+n+1,s="input_json_apiKey"+n+1,l="<div class='swagger-section'><div class='input'><label>API Token</label><input class='form-control' placeholder='api_key' id='"+s+"' name='apiKey' type='text'/></div><div style='margin-left:0' class='swagger-ui-wrap' id='"+t+"'></div></div>";$(a.parentNode).replaceWith(l),window.swaggerUi=new SwaggerUi({url:"localhost",spec:o,dom_id:t,onComplete:function(e,i){r(s),$("#"+s).change(function(){r(s)})},docExpansion:"none",apisSorter:"alpha",showRequestHeaders:!0}),window.swaggerUi.load()}}function s(){for(var e=$(i[0]).find(".lang-swagger-yaml"),n=0;n<e.length;n++){var a=e[n],o=a.innerText,t=YAML.parse(o),s="swagger-yaml-container-"+n+1,l="input_yaml_apiKey"+n+1,g="<div class='swagger-section'><div class='input'><input placeholder='api_key' id='"+l+"' name='apiKey' type='text'/></div><div style='margin-left:0' class='swagger-ui-wrap' id='"+s+"'></div></div>";$(a.parentNode).replaceWith(g),window.swaggerUi=new SwaggerUi({url:"localhost",spec:t,dom_id:s,onComplete:function(e,i){r(l),$("#"+l).change(function(){r(l)})},docExpansion:"none",apisSorter:"alpha",showRequestHeaders:!0}),window.swaggerUi.load()}}var l=e.baseJsonUri;window.SwaggerTranslator&&window.SwaggerTranslator.translate(),a.$render=function(){var n=a.$viewValue;if(n&&n.length>0){var r=marked(a.$viewValue||""),l=$('<div class="md-swagger"></div>');l.html(r),i.append(l),setTimeout(function(){o(),t(),s(),e.$apply()},10)}}}}})}()}).call(this);